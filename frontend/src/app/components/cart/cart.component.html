<app-navbar></app-navbar>
<div *ngIf="products.length > 0; else noProducts" class="container">
  <div>
    <table class="table table-striped" id="cart-table">
      <thead>
        <tr>
          <th scope="col">Name</th>
          <th scope="col">Quantity</th>
          <th scope="col">Description</th>
        </tr>
      </thead>
      <tbody id="cart-table-body">
        <tr *ngFor="let product of products">
          <td>{{ product.product.name }}</td>
          <td>
            <button
              class="btn btn-danger minus"
              (click)="removeFromCart(product.product, product.quantity)"
            >
              <i class="fa fa-minus"></i>
            </button>
            <span>{{ product.quantity }}</span>
            <button
              class="btn btn-success plus"
              (click)="addToCart(product.product)"
            >
              <i class="fa fa-plus"></i>
            </button>
          </td>
          <td>{{ product.product.description }}</td>
        </tr>
      </tbody>
    </table>
    <div class="footer-buttons">
      <button class="btn btn-outline-danger" [routerLink]="['/home']">
        Back
      </button>
      <button class="btn btn-warning" (click)="emptyCart()">Empty Cart</button>
      <button class="btn btn-success" [routerLink]="['/checkout']">
        Proceed to Checkout (${{ totalPrice }})
      </button>
    </div>
  </div>
</div>

<ng-template #noProducts>
  <div class="empty-cart">
    <p>Your cart is empty</p>
    <button class="btn btn-outline-danger" [routerLink]="['/home']">
      Back
    </button>
  </div>
</ng-template>
